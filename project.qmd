---
title: "Various Factors Affecting BSc Students' University Preferences"
---

Welcome to my project page.

Keep an eye on this space to stay updated with my project activities.

# 1. Project Overview and Scope

This project shows the effect of various factors affecting the preferences of students, such as city preferences, academic staff quality, faculty popularity, and the number of students going to Erasmus by using the data obtained from the YOK Atlas through the 'thestats' R package.

# 2. Data

## 2.1 Data Source

The data used in this project is sourced from YOK Atlas, which provides detailed information on Turkish undergraduate programs. Data access is managed through the `thestats` R package developed by Mustafa Cavus and Olgun Aydin. This package allows users to retrieve data such as success rankings, quotas, academic staff numbers, and Erasmus statistics at the program level.

Data is retrieved programmatically using `list_score()` and `list_dept()` functions provided by the package, allowing for reproducible and filterable queries.

## 2.2 General Information About Data

The dataset includes a wide range of variables for each university program. These include:

[Table 3. Variables provided in {thestats}](https://github.com/analyticsresearchlab/thestats/blob/main/docs/Table3.md)

## 2.3 Reason of Choice

YOK Atlas is a detailed data source about university preferences in Turkey. I chose this data because it allows for exploring a wide range of factors, such as geographical trends, program competitiveness, academic staff profiles, and international participation through Erasmus.

In addition, since the data is publicly available and accessible through the R package, it is in accordance with the content of the EMU660 course on performing repeatable, data-based analysis in R.

## 2.4 Preprocessing

In this section, we filter and preprocess the data to prepare it for analysis. We select Computer Engineering programs for illustration and extract relevant variables using the `list_score()` function.

```{r}
library(thestats)
library(dplyr)

vars_needed <- c("X15", "X188", "X189", "X190", "X195")

scores_raw <- list_score(department_names = "all", var_ids = vars_needed)

df <- scores_raw %>%
  mutate(
    rank = as.numeric(X15),  
    prof = as.numeric(X188),
    assoc_prof = as.numeric(X189),
    asst_prof = as.numeric(X190),
    erasmus_out = as.numeric(X195),
    total_staff = prof + assoc_prof + asst_prof
  ) %>%
  filter(!is.na(rank))


```

# 3. Analysis

## 3.1 Exploratory Data Analysis

This bar graph shows the number of departments that send students abroad through the Erasmus program. A significant part of the departments do not participate in Erasmus exchanges, which affects the students' choices.

```{r}
library(ggplot2)

df_erasmus_count <- scores %>%
  mutate(
    program = department,
    erasmus_out = as.numeric(X195)
  ) %>%
  filter(!is.na(erasmus_out)) %>%
  group_by(program) %>%
  summarise(total = sum(erasmus_out, na.rm = TRUE)) %>%
  mutate(sent = ifelse(total > 0, "Sent", "None")) %>%
  group_by(sent) %>%
  summarise(count = n())

ggplot(df_erasmus_count, aes(x = sent, y = count, fill = sent)) +
  geom_col(width = 0.4) +
  geom_text(aes(label = count), vjust = 1, size = 4) +
  labs(title = "Departments Sending Erasmus Students",
       x = "Erasmus Activity",
       y = "Number of Departments") +
  theme_minimal()

```

This chart displays the total number of professors, associate professors, and doctorate-level faculty members.

```{r}
library(tidyr)

df_staff <- scores %>%
  mutate(
    prof = as.numeric(X188),
    assoc = as.numeric(X189),
    dr = as.numeric(X190)
  ) %>%
  summarise(
    Professors = sum(prof, na.rm = TRUE),
    Associates = sum(assoc, na.rm = TRUE),
    Doctors = sum(dr, na.rm = TRUE)
  ) %>%
  pivot_longer(cols = everything(), names_to = "Title", values_to = "Count")

ggplot(df_staff, aes(x = Title, y = Count, fill = Title)) +
  geom_col(width = 0.4) +
  geom_text(aes(label = Count), vjust = 1, size = 4) +
  labs(title = "Total Academic Staff Distribution",
       x = "Title",
       y = "Count") +
  theme_minimal()

```

This table shows the cities with the highest number of students in universities.

```{r}
df_city <- scores %>%
  mutate(
    city = university,
    placed = as.numeric(X11)
  ) %>%
  filter(!is.na(city), !is.na(placed)) %>%
  group_by(city) %>%
  summarise(total_placed = sum(placed, na.rm = TRUE)) %>%
  arrange(desc(total_placed)) %>%
  slice(1:10)

ggplot(df_city, aes(x = reorder(city, total_placed), y = total_placed)) +
  geom_col(fill = "steelblue", width = 0.5) +
  geom_text(aes(label = total_placed), hjust = 1, size = 4) +
  coord_flip() +
  labs(
    title = "Top 10 Cities by Student Placement",
    x = "City",
    y = "Total Students Placed"
  ) +
  theme_minimal()


```

## 3.2 Trend Analysis

xxxx

## 3.3 Model Fitting

xxxxxx

## 3.4 Results

xxxxxx

# 4. Results and Key Takeaways

xxxxxx
